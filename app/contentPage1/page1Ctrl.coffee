angular.module 'app'
  .controller 'Page1Ctrl', ($scope, $interval, $log, d3Animation) ->

    $scope.label = 'data.label'
    data = {
      label: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U',
              'V', 'W', 'X', 'Y', 'Z'],
      frequency: [.08167, .01492, .02782, .04253, .12702, .02288, .02015, .06094, .06966, .00153, .00772, .04025,
                  .02406, .06749, .07507, .01929, .00095, .05987, .06327, .09056, .02758, .00978, .02360, .00150,
                  .01974, .00074]
    }

    $scope.data = []

    for l, i in data.label
      $scope.data.push({label:l, frequency:data.frequency[i]})

    $scope.title = 'Chart Test'

    $scope.longData = JSON.parse('[{"State":"CA","Under 5 Years":"2704659","5 to 13 Years":"4499890","14 to 17 Years":"2159981","18 to 24 Years":"3853788","25 to 44 Years":"10604510","45 to 64 Years":"8819342","65 Years and Over":"4114496","ages":[{"name":"Under 5 Years","y0":0,"y1":2704659},{"name":"5 to 13 Years","y0":2704659,"y1":7204549},{"name":"14 to 17 Years","y0":7204549,"y1":9364530},{"name":"18 to 24 Years","y0":9364530,"y1":13218318},{"name":"25 to 44 Years","y0":13218318,"y1":23822828},{"name":"45 to 64 Years","y0":23822828,"y1":32642170},{"name":"65 Years and Over","y0":32642170,"y1":36756666}],"total":36756666},{"State":"TX","Under 5 Years":"2027307","5 to 13 Years":"3277946","14 to 17 Years":"1420518","18 to 24 Years":"2454721","25 to 44 Years":"7017731","45 to 64 Years":"5656528","65 Years and Over":"2472223","ages":[{"name":"Under 5 Years","y0":0,"y1":2027307},{"name":"5 to 13 Years","y0":2027307,"y1":5305253},{"name":"14 to 17 Years","y0":5305253,"y1":6725771},{"name":"18 to 24 Years","y0":6725771,"y1":9180492},{"name":"25 to 44 Years","y0":9180492,"y1":16198223},{"name":"45 to 64 Years","y0":16198223,"y1":21854751},{"name":"65 Years and Over","y0":21854751,"y1":24326974}],"total":24326974},{"State":"NY","Under 5 Years":"1208495","5 to 13 Years":"2141490","14 to 17 Years":"1058031","18 to 24 Years":"1999120","25 to 44 Years":"5355235","45 to 64 Years":"5120254","65 Years and Over":"2607672","ages":[{"name":"Under 5 Years","y0":0,"y1":1208495},{"name":"5 to 13 Years","y0":1208495,"y1":3349985},{"name":"14 to 17 Years","y0":3349985,"y1":4408016},{"name":"18 to 24 Years","y0":4408016,"y1":6407136},{"name":"25 to 44 Years","y0":6407136,"y1":11762371},{"name":"45 to 64 Years","y0":11762371,"y1":16882625},{"name":"65 Years and Over","y0":16882625,"y1":19490297}],"total":19490297},{"State":"FL","Under 5 Years":"1140516","5 to 13 Years":"1938695","14 to 17 Years":"925060","18 to 24 Years":"1607297","25 to 44 Years":"4782119","45 to 64 Years":"4746856","65 Years and Over":"3187797","ages":[{"name":"Under 5 Years","y0":0,"y1":1140516},{"name":"5 to 13 Years","y0":1140516,"y1":3079211},{"name":"14 to 17 Years","y0":3079211,"y1":4004271},{"name":"18 to 24 Years","y0":4004271,"y1":5611568},{"name":"25 to 44 Years","y0":5611568,"y1":10393687},{"name":"45 to 64 Years","y0":10393687,"y1":15140543},{"name":"65 Years and Over","y0":15140543,"y1":18328340}],"total":18328340},{"State":"IL","Under 5 Years":"894368","5 to 13 Years":"1558919","14 to 17 Years":"725973","18 to 24 Years":"1311479","25 to 44 Years":"3596343","45 to 64 Years":"3239173","65 Years and Over":"1575308","ages":[{"name":"Under 5 Years","y0":0,"y1":894368},{"name":"5 to 13 Years","y0":894368,"y1":2453287},{"name":"14 to 17 Years","y0":2453287,"y1":3179260},{"name":"18 to 24 Years","y0":3179260,"y1":4490739},{"name":"25 to 44 Years","y0":4490739,"y1":8087082},{"name":"45 to 64 Years","y0":8087082,"y1":11326255},{"name":"65 Years and Over","y0":11326255,"y1":12901563}],"total":12901563},{"State":"PA","Under 5 Years":"737462","5 to 13 Years":"1345341","14 to 17 Years":"679201","18 to 24 Years":"1203944","25 to 44 Years":"3157759","45 to 64 Years":"3414001","65 Years and Over":"1910571","ages":[{"name":"Under 5 Years","y0":0,"y1":737462},{"name":"5 to 13 Years","y0":737462,"y1":2082803},{"name":"14 to 17 Years","y0":2082803,"y1":2762004},{"name":"18 to 24 Years","y0":2762004,"y1":3965948},{"name":"25 to 44 Years","y0":3965948,"y1":7123707},{"name":"45 to 64 Years","y0":7123707,"y1":10537708},{"name":"65 Years and Over","y0":10537708,"y1":12448279}],"total":12448279},{"State":"OH","Under 5 Years":"743750","5 to 13 Years":"1340492","14 to 17 Years":"646135","18 to 24 Years":"1081734","25 to 44 Years":"3019147","45 to 64 Years":"3083815","65 Years and Over":"1570837","ages":[{"name":"Under 5 Years","y0":0,"y1":743750},{"name":"5 to 13 Years","y0":743750,"y1":2084242},{"name":"14 to 17 Years","y0":2084242,"y1":2730377},{"name":"18 to 24 Years","y0":2730377,"y1":3812111},{"name":"25 to 44 Years","y0":3812111,"y1":6831258},{"name":"45 to 64 Years","y0":6831258,"y1":9915073},{"name":"65 Years and Over","y0":9915073,"y1":11485910}],"total":11485910},{"State":"MI","Under 5 Years":"625526","5 to 13 Years":"1179503","14 to 17 Years":"585169","18 to 24 Years":"974480","25 to 44 Years":"2628322","45 to 64 Years":"2706100","65 Years and Over":"1304322","ages":[{"name":"Under 5 Years","y0":0,"y1":625526},{"name":"5 to 13 Years","y0":625526,"y1":1805029},{"name":"14 to 17 Years","y0":1805029,"y1":2390198},{"name":"18 to 24 Years","y0":2390198,"y1":3364678},{"name":"25 to 44 Years","y0":3364678,"y1":5993000},{"name":"45 to 64 Years","y0":5993000,"y1":8699100},{"name":"65 Years and Over","y0":8699100,"y1":10003422}],"total":10003422},{"State":"GA","Under 5 Years":"740521","5 to 13 Years":"1250460","14 to 17 Years":"557860","18 to 24 Years":"919876","25 to 44 Years":"2846985","45 to 64 Years":"2389018","65 Years and Over":"981024","ages":[{"name":"Under 5 Years","y0":0,"y1":740521},{"name":"5 to 13 Years","y0":740521,"y1":1990981},{"name":"14 to 17 Years","y0":1990981,"y1":2548841},{"name":"18 to 24 Years","y0":2548841,"y1":3468717},{"name":"25 to 44 Years","y0":3468717,"y1":6315702},{"name":"45 to 64 Years","y0":6315702,"y1":8704720},{"name":"65 Years and Over","y0":8704720,"y1":9685744}],"total":9685744},{"State":"NC","Under 5 Years":"652823","5 to 13 Years":"1097890","14 to 17 Years":"492964","18 to 24 Years":"883397","25 to 44 Years":"2575603","45 to 64 Years":"2380685","65 Years and Over":"1139052","ages":[{"name":"Under 5 Years","y0":0,"y1":652823},{"name":"5 to 13 Years","y0":652823,"y1":1750713},{"name":"14 to 17 Years","y0":1750713,"y1":2243677},{"name":"18 to 24 Years","y0":2243677,"y1":3127074},{"name":"25 to 44 Years","y0":3127074,"y1":5702677},{"name":"45 to 64 Years","y0":5702677,"y1":8083362},{"name":"65 Years and Over","y0":8083362,"y1":9222414}],"total":9222414},{"State":"NJ","Under 5 Years":"557421","5 to 13 Years":"1011656","14 to 17 Years":"478505","18 to 24 Years":"769321","25 to 44 Years":"2379649","45 to 64 Years":"2335168","65 Years and Over":"1150941","ages":[{"name":"Under 5 Years","y0":0,"y1":557421},{"name":"5 to 13 Years","y0":557421,"y1":1569077},{"name":"14 to 17 Years","y0":1569077,"y1":2047582},{"name":"18 to 24 Years","y0":2047582,"y1":2816903},{"name":"25 to 44 Years","y0":2816903,"y1":5196552},{"name":"45 to 64 Years","y0":5196552,"y1":7531720},{"name":"65 Years and Over","y0":7531720,"y1":8682661}],"total":8682661},{"State":"VA","Under 5 Years":"522672","5 to 13 Years":"887525","14 to 17 Years":"413004","18 to 24 Years":"768475","25 to 44 Years":"2203286","45 to 64 Years":"2033550","65 Years and Over":"940577","ages":[{"name":"Under 5 Years","y0":0,"y1":522672},{"name":"5 to 13 Years","y0":522672,"y1":1410197},{"name":"14 to 17 Years","y0":1410197,"y1":1823201},{"name":"18 to 24 Years","y0":1823201,"y1":2591676},{"name":"25 to 44 Years","y0":2591676,"y1":4794962},{"name":"45 to 64 Years","y0":4794962,"y1":6828512},{"name":"65 Years and Over","y0":6828512,"y1":7769089}],"total":7769089},{"State":"WA","Under 5 Years":"433119","5 to 13 Years":"750274","14 to 17 Years":"357782","18 to 24 Years":"610378","25 to 44 Years":"1850983","45 to 64 Years":"1762811","65 Years and Over":"783877","ages":[{"name":"Under 5 Years","y0":0,"y1":433119},{"name":"5 to 13 Years","y0":433119,"y1":1183393},{"name":"14 to 17 Years","y0":1183393,"y1":1541175},{"name":"18 to 24 Years","y0":1541175,"y1":2151553},{"name":"25 to 44 Years","y0":2151553,"y1":4002536},{"name":"45 to 64 Years","y0":4002536,"y1":5765347},{"name":"65 Years and Over","y0":5765347,"y1":6549224}],"total":6549224},{"State":"AZ","Under 5 Years":"515910","5 to 13 Years":"828669","14 to 17 Years":"362642","18 to 24 Years":"601943","25 to 44 Years":"1804762","45 to 64 Years":"1523681","65 Years and Over":"862573","ages":[{"name":"Under 5 Years","y0":0,"y1":515910},{"name":"5 to 13 Years","y0":515910,"y1":1344579},{"name":"14 to 17 Years","y0":1344579,"y1":1707221},{"name":"18 to 24 Years","y0":1707221,"y1":2309164},{"name":"25 to 44 Years","y0":2309164,"y1":4113926},{"name":"45 to 64 Years","y0":4113926,"y1":5637607},{"name":"65 Years and Over","y0":5637607,"y1":6500180}],"total":6500180},{"State":"MA","Under 5 Years":"383568","5 to 13 Years":"701752","14 to 17 Years":"341713","18 to 24 Years":"665879","25 to 44 Years":"1782449","45 to 64 Years":"1751508","65 Years and Over":"871098","ages":[{"name":"Under 5 Years","y0":0,"y1":383568},{"name":"5 to 13 Years","y0":383568,"y1":1085320},{"name":"14 to 17 Years","y0":1085320,"y1":1427033},{"name":"18 to 24 Years","y0":1427033,"y1":2092912},{"name":"25 to 44 Years","y0":2092912,"y1":3875361},{"name":"45 to 64 Years","y0":3875361,"y1":5626869},{"name":"65 Years and Over","y0":5626869,"y1":6497967}],"total":6497967},{"State":"IN","Under 5 Years":"443089","5 to 13 Years":"780199","14 to 17 Years":"361393","18 to 24 Years":"605863","25 to 44 Years":"1724528","45 to 64 Years":"1647881","65 Years and Over":"813839","ages":[{"name":"Under 5 Years","y0":0,"y1":443089},{"name":"5 to 13 Years","y0":443089,"y1":1223288},{"name":"14 to 17 Years","y0":1223288,"y1":1584681},{"name":"18 to 24 Years","y0":1584681,"y1":2190544},{"name":"25 to 44 Years","y0":2190544,"y1":3915072},{"name":"45 to 64 Years","y0":3915072,"y1":5562953},{"name":"65 Years and Over","y0":5562953,"y1":6376792}],"total":6376792},{"State":"TN","Under 5 Years":"416334","5 to 13 Years":"725948","14 to 17 Years":"336312","18 to 24 Years":"550612","25 to 44 Years":"1719433","45 to 64 Years":"1646623","65 Years and Over":"819626","ages":[{"name":"Under 5 Years","y0":0,"y1":416334},{"name":"5 to 13 Years","y0":416334,"y1":1142282},{"name":"14 to 17 Years","y0":1142282,"y1":1478594},{"name":"18 to 24 Years","y0":1478594,"y1":2029206},{"name":"25 to 44 Years","y0":2029206,"y1":3748639},{"name":"45 to 64 Years","y0":3748639,"y1":5395262},{"name":"65 Years and Over","y0":5395262,"y1":6214888}],"total":6214888},{"State":"MO","Under 5 Years":"399450","5 to 13 Years":"690476","14 to 17 Years":"331543","18 to 24 Years":"560463","25 to 44 Years":"1569626","45 to 64 Years":"1554812","65 Years and Over":"805235","ages":[{"name":"Under 5 Years","y0":0,"y1":399450},{"name":"5 to 13 Years","y0":399450,"y1":1089926},{"name":"14 to 17 Years","y0":1089926,"y1":1421469},{"name":"18 to 24 Years","y0":1421469,"y1":1981932},{"name":"25 to 44 Years","y0":1981932,"y1":3551558},{"name":"45 to 64 Years","y0":3551558,"y1":5106370},{"name":"65 Years and Over","y0":5106370,"y1":5911605}],"total":5911605},{"State":"MD","Under 5 Years":"371787","5 to 13 Years":"651923","14 to 17 Years":"316873","18 to 24 Years":"543470","25 to 44 Years":"1556225","45 to 64 Years":"1513754","65 Years and Over":"679565","ages":[{"name":"Under 5 Years","y0":0,"y1":371787},{"name":"5 to 13 Years","y0":371787,"y1":1023710},{"name":"14 to 17 Years","y0":1023710,"y1":1340583},{"name":"18 to 24 Years","y0":1340583,"y1":1884053},{"name":"25 to 44 Years","y0":1884053,"y1":3440278},{"name":"45 to 64 Years","y0":3440278,"y1":4954032},{"name":"65 Years and Over","y0":4954032,"y1":5633597}],"total":5633597},{"State":"WI","Under 5 Years":"362277","5 to 13 Years":"640286","14 to 17 Years":"311849","18 to 24 Years":"553914","25 to 44 Years":"1487457","45 to 64 Years":"1522038","65 Years and Over":"750146","ages":[{"name":"Under 5 Years","y0":0,"y1":362277},{"name":"5 to 13 Years","y0":362277,"y1":1002563},{"name":"14 to 17 Years","y0":1002563,"y1":1314412},{"name":"18 to 24 Years","y0":1314412,"y1":1868326},{"name":"25 to 44 Years","y0":1868326,"y1":3355783},{"name":"45 to 64 Years","y0":3355783,"y1":4877821},{"name":"65 Years and Over","y0":4877821,"y1":5627967}],"total":5627967},{"State":"MN","Under 5 Years":"358471","5 to 13 Years":"606802","14 to 17 Years":"289371","18 to 24 Years":"507289","25 to 44 Years":"1416063","45 to 64 Years":"1391878","65 Years and Over":"650519","ages":[{"name":"Under 5 Years","y0":0,"y1":358471},{"name":"5 to 13 Years","y0":358471,"y1":965273},{"name":"14 to 17 Years","y0":965273,"y1":1254644},{"name":"18 to 24 Years","y0":1254644,"y1":1761933},{"name":"25 to 44 Years","y0":1761933,"y1":3177996},{"name":"45 to 64 Years","y0":3177996,"y1":4569874},{"name":"65 Years and Over","y0":4569874,"y1":5220393}],"total":5220393},{"State":"CO","Under 5 Years":"358280","5 to 13 Years":"587154","14 to 17 Years":"261701","18 to 24 Years":"466194","25 to 44 Years":"1464939","45 to 64 Years":"1290094","65 Years and Over":"511094","ages":[{"name":"Under 5 Years","y0":0,"y1":358280},{"name":"5 to 13 Years","y0":358280,"y1":945434},{"name":"14 to 17 Years","y0":945434,"y1":1207135},{"name":"18 to 24 Years","y0":1207135,"y1":1673329},{"name":"25 to 44 Years","y0":1673329,"y1":3138268},{"name":"45 to 64 Years","y0":3138268,"y1":4428362},{"name":"65 Years and Over","y0":4428362,"y1":4939456}],"total":4939456},{"State":"AL","Under 5 Years":"310504","5 to 13 Years":"552339","14 to 17 Years":"259034","18 to 24 Years":"450818","25 to 44 Years":"1231572","45 to 64 Years":"1215966","65 Years and Over":"641667","ages":[{"name":"Under 5 Years","y0":0,"y1":310504},{"name":"5 to 13 Years","y0":310504,"y1":862843},{"name":"14 to 17 Years","y0":862843,"y1":1121877},{"name":"18 to 24 Years","y0":1121877,"y1":1572695},{"name":"25 to 44 Years","y0":1572695,"y1":2804267},{"name":"45 to 64 Years","y0":2804267,"y1":4020233},{"name":"65 Years and Over","y0":4020233,"y1":4661900}],"total":4661900},{"State":"SC","Under 5 Years":"303024","5 to 13 Years":"517803","14 to 17 Years":"245400","18 to 24 Years":"438147","25 to 44 Years":"1193112","45 to 64 Years":"1186019","65 Years and Over":"596295","ages":[{"name":"Under 5 Years","y0":0,"y1":303024},{"name":"5 to 13 Years","y0":303024,"y1":820827},{"name":"14 to 17 Years","y0":820827,"y1":1066227},{"name":"18 to 24 Years","y0":1066227,"y1":1504374},{"name":"25 to 44 Years","y0":1504374,"y1":2697486},{"name":"45 to 64 Years","y0":2697486,"y1":3883505},{"name":"65 Years and Over","y0":3883505,"y1":4479800}],"total":4479800},{"State":"LA","Under 5 Years":"310716","5 to 13 Years":"542341","14 to 17 Years":"254916","18 to 24 Years":"471275","25 to 44 Years":"1162463","45 to 64 Years":"1128771","65 Years and Over":"540314","ages":[{"name":"Under 5 Years","y0":0,"y1":310716},{"name":"5 to 13 Years","y0":310716,"y1":853057},{"name":"14 to 17 Years","y0":853057,"y1":1107973},{"name":"18 to 24 Years","y0":1107973,"y1":1579248},{"name":"25 to 44 Years","y0":1579248,"y1":2741711},{"name":"45 to 64 Years","y0":2741711,"y1":3870482},{"name":"65 Years and Over","y0":3870482,"y1":4410796}],"total":4410796},{"State":"KY","Under 5 Years":"284601","5 to 13 Years":"493536","14 to 17 Years":"229927","18 to 24 Years":"381394","25 to 44 Years":"1179637","45 to 64 Years":"1134283","65 Years and Over":"565867","ages":[{"name":"Under 5 Years","y0":0,"y1":284601},{"name":"5 to 13 Years","y0":284601,"y1":778137},{"name":"14 to 17 Years","y0":778137,"y1":1008064},{"name":"18 to 24 Years","y0":1008064,"y1":1389458},{"name":"25 to 44 Years","y0":1389458,"y1":2569095},{"name":"45 to 64 Years","y0":2569095,"y1":3703378},{"name":"65 Years and Over","y0":3703378,"y1":4269245}],"total":4269245},{"State":"OR","Under 5 Years":"243483","5 to 13 Years":"424167","14 to 17 Years":"199925","18 to 24 Years":"338162","25 to 44 Years":"1044056","45 to 64 Years":"1036269","65 Years and Over":"503998","ages":[{"name":"Under 5 Years","y0":0,"y1":243483},{"name":"5 to 13 Years","y0":243483,"y1":667650},{"name":"14 to 17 Years","y0":667650,"y1":867575},{"name":"18 to 24 Years","y0":867575,"y1":1205737},{"name":"25 to 44 Years","y0":1205737,"y1":2249793},{"name":"45 to 64 Years","y0":2249793,"y1":3286062},{"name":"65 Years and Over","y0":3286062,"y1":3790060}],"total":3790060},{"State":"OK","Under 5 Years":"266547","5 to 13 Years":"438926","14 to 17 Years":"200562","18 to 24 Years":"369916","25 to 44 Years":"957085","45 to 64 Years":"918688","65 Years and Over":"490637","ages":[{"name":"Under 5 Years","y0":0,"y1":266547},{"name":"5 to 13 Years","y0":266547,"y1":705473},{"name":"14 to 17 Years","y0":705473,"y1":906035},{"name":"18 to 24 Years","y0":906035,"y1":1275951},{"name":"25 to 44 Years","y0":1275951,"y1":2233036},{"name":"45 to 64 Years","y0":2233036,"y1":3151724},{"name":"65 Years and Over","y0":3151724,"y1":3642361}],"total":3642361},{"State":"CT","Under 5 Years":"211637","5 to 13 Years":"403658","14 to 17 Years":"196918","18 to 24 Years":"325110","25 to 44 Years":"916955","45 to 64 Years":"968967","65 Years and Over":"478007","ages":[{"name":"Under 5 Years","y0":0,"y1":211637},{"name":"5 to 13 Years","y0":211637,"y1":615295},{"name":"14 to 17 Years","y0":615295,"y1":812213},{"name":"18 to 24 Years","y0":812213,"y1":1137323},{"name":"25 to 44 Years","y0":1137323,"y1":2054278},{"name":"45 to 64 Years","y0":2054278,"y1":3023245},{"name":"65 Years and Over","y0":3023245,"y1":3501252}],"total":3501252},{"State":"IA","Under 5 Years":"201321","5 to 13 Years":"345409","14 to 17 Years":"165883","18 to 24 Years":"306398","25 to 44 Years":"750505","45 to 64 Years":"788485","65 Years and Over":"444554","ages":[{"name":"Under 5 Years","y0":0,"y1":201321},{"name":"5 to 13 Years","y0":201321,"y1":546730},{"name":"14 to 17 Years","y0":546730,"y1":712613},{"name":"18 to 24 Years","y0":712613,"y1":1019011},{"name":"25 to 44 Years","y0":1019011,"y1":1769516},{"name":"45 to 64 Years","y0":1769516,"y1":2558001},{"name":"65 Years and Over","y0":2558001,"y1":3002555}],"total":3002555},{"State":"MS","Under 5 Years":"220813","5 to 13 Years":"371502","14 to 17 Years":"174405","18 to 24 Years":"305964","25 to 44 Years":"764203","45 to 64 Years":"730133","65 Years and Over":"371598","ages":[{"name":"Under 5 Years","y0":0,"y1":220813},{"name":"5 to 13 Years","y0":220813,"y1":592315},{"name":"14 to 17 Years","y0":592315,"y1":766720},{"name":"18 to 24 Years","y0":766720,"y1":1072684},{"name":"25 to 44 Years","y0":1072684,"y1":1836887},{"name":"45 to 64 Years","y0":1836887,"y1":2567020},{"name":"65 Years and Over","y0":2567020,"y1":2938618}],"total":2938618},{"State":"AR","Under 5 Years":"202070","5 to 13 Years":"343207","14 to 17 Years":"157204","18 to 24 Years":"264160","25 to 44 Years":"754420","45 to 64 Years":"727124","65 Years and Over":"407205","ages":[{"name":"Under 5 Years","y0":0,"y1":202070},{"name":"5 to 13 Years","y0":202070,"y1":545277},{"name":"14 to 17 Years","y0":545277,"y1":702481},{"name":"18 to 24 Years","y0":702481,"y1":966641},{"name":"25 to 44 Years","y0":966641,"y1":1721061},{"name":"45 to 64 Years","y0":1721061,"y1":2448185},{"name":"65 Years and Over","y0":2448185,"y1":2855390}],"total":2855390},{"State":"KS","Under 5 Years":"202529","5 to 13 Years":"342134","14 to 17 Years":"155822","18 to 24 Years":"293114","25 to 44 Years":"728166","45 to 64 Years":"713663","65 Years and Over":"366706","ages":[{"name":"Under 5 Years","y0":0,"y1":202529},{"name":"5 to 13 Years","y0":202529,"y1":544663},{"name":"14 to 17 Years","y0":544663,"y1":700485},{"name":"18 to 24 Years","y0":700485,"y1":993599},{"name":"25 to 44 Years","y0":993599,"y1":1721765},{"name":"45 to 64 Years","y0":1721765,"y1":2435428},{"name":"65 Years and Over","y0":2435428,"y1":2802134}],"total":2802134},{"State":"UT","Under 5 Years":"268916","5 to 13 Years":"413034","14 to 17 Years":"167685","18 to 24 Years":"329585","25 to 44 Years":"772024","45 to 64 Years":"538978","65 Years and Over":"246202","ages":[{"name":"Under 5 Years","y0":0,"y1":268916},{"name":"5 to 13 Years","y0":268916,"y1":681950},{"name":"14 to 17 Years","y0":681950,"y1":849635},{"name":"18 to 24 Years","y0":849635,"y1":1179220},{"name":"25 to 44 Years","y0":1179220,"y1":1951244},{"name":"45 to 64 Years","y0":1951244,"y1":2490222},{"name":"65 Years and Over","y0":2490222,"y1":2736424}],"total":2736424},{"State":"NV","Under 5 Years":"199175","5 to 13 Years":"325650","14 to 17 Years":"142976","18 to 24 Years":"212379","25 to 44 Years":"769913","45 to 64 Years":"653357","65 Years and Over":"296717","ages":[{"name":"Under 5 Years","y0":0,"y1":199175},{"name":"5 to 13 Years","y0":199175,"y1":524825},{"name":"14 to 17 Years","y0":524825,"y1":667801},{"name":"18 to 24 Years","y0":667801,"y1":880180},{"name":"25 to 44 Years","y0":880180,"y1":1650093},{"name":"45 to 64 Years","y0":1650093,"y1":2303450},{"name":"65 Years and Over","y0":2303450,"y1":2600167}],"total":2600167},{"State":"NM","Under 5 Years":"148323","5 to 13 Years":"241326","14 to 17 Years":"112801","18 to 24 Years":"203097","25 to 44 Years":"517154","45 to 64 Years":"501604","65 Years and Over":"260051","ages":[{"name":"Under 5 Years","y0":0,"y1":148323},{"name":"5 to 13 Years","y0":148323,"y1":389649},{"name":"14 to 17 Years","y0":389649,"y1":502450},{"name":"18 to 24 Years","y0":502450,"y1":705547},{"name":"25 to 44 Years","y0":705547,"y1":1222701},{"name":"45 to 64 Years","y0":1222701,"y1":1724305},{"name":"65 Years and Over","y0":1724305,"y1":1984356}],"total":1984356},{"State":"WV","Under 5 Years":"105435","5 to 13 Years":"189649","14 to 17 Years":"91074","18 to 24 Years":"157989","25 to 44 Years":"470749","45 to 64 Years":"514505","65 Years and Over":"285067","ages":[{"name":"Under 5 Years","y0":0,"y1":105435},{"name":"5 to 13 Years","y0":105435,"y1":295084},{"name":"14 to 17 Years","y0":295084,"y1":386158},{"name":"18 to 24 Years","y0":386158,"y1":544147},{"name":"25 to 44 Years","y0":544147,"y1":1014896},{"name":"45 to 64 Years","y0":1014896,"y1":1529401},{"name":"65 Years and Over","y0":1529401,"y1":1814468}],"total":1814468},{"State":"NE","Under 5 Years":"132092","5 to 13 Years":"215265","14 to 17 Years":"99638","18 to 24 Years":"186657","25 to 44 Years":"457177","45 to 64 Years":"451756","65 Years and Over":"240847","ages":[{"name":"Under 5 Years","y0":0,"y1":132092},{"name":"5 to 13 Years","y0":132092,"y1":347357},{"name":"14 to 17 Years","y0":347357,"y1":446995},{"name":"18 to 24 Years","y0":446995,"y1":633652},{"name":"25 to 44 Years","y0":633652,"y1":1090829},{"name":"45 to 64 Years","y0":1090829,"y1":1542585},{"name":"65 Years and Over","y0":1542585,"y1":1783432}],"total":1783432},{"State":"ID","Under 5 Years":"121746","5 to 13 Years":"201192","14 to 17 Years":"89702","18 to 24 Years":"147606","25 to 44 Years":"406247","45 to 64 Years":"375173","65 Years and Over":"182150","ages":[{"name":"Under 5 Years","y0":0,"y1":121746},{"name":"5 to 13 Years","y0":121746,"y1":322938},{"name":"14 to 17 Years","y0":322938,"y1":412640},{"name":"18 to 24 Years","y0":412640,"y1":560246},{"name":"25 to 44 Years","y0":560246,"y1":966493},{"name":"45 to 64 Years","y0":966493,"y1":1341666},{"name":"65 Years and Over","y0":1341666,"y1":1523816}],"total":1523816},{"State":"ME","Under 5 Years":"71459","5 to 13 Years":"133656","14 to 17 Years":"69752","18 to 24 Years":"112682","25 to 44 Years":"331809","45 to 64 Years":"397911","65 Years and Over":"199187","ages":[{"name":"Under 5 Years","y0":0,"y1":71459},{"name":"5 to 13 Years","y0":71459,"y1":205115},{"name":"14 to 17 Years","y0":205115,"y1":274867},{"name":"18 to 24 Years","y0":274867,"y1":387549},{"name":"25 to 44 Years","y0":387549,"y1":719358},{"name":"45 to 64 Years","y0":719358,"y1":1117269},{"name":"65 Years and Over","y0":1117269,"y1":1316456}],"total":1316456},{"State":"NH","Under 5 Years":"75297","5 to 13 Years":"144235","14 to 17 Years":"73826","18 to 24 Years":"119114","25 to 44 Years":"345109","45 to 64 Years":"388250","65 Years and Over":"169978","ages":[{"name":"Under 5 Years","y0":0,"y1":75297},{"name":"5 to 13 Years","y0":75297,"y1":219532},{"name":"14 to 17 Years","y0":219532,"y1":293358},{"name":"18 to 24 Years","y0":293358,"y1":412472},{"name":"25 to 44 Years","y0":412472,"y1":757581},{"name":"45 to 64 Years","y0":757581,"y1":1145831},{"name":"65 Years and Over","y0":1145831,"y1":1315809}],"total":1315809},{"State":"HI","Under 5 Years":"87207","5 to 13 Years":"134025","14 to 17 Years":"64011","18 to 24 Years":"124834","25 to 44 Years":"356237","45 to 64 Years":"331817","65 Years and Over":"190067","ages":[{"name":"Under 5 Years","y0":0,"y1":87207},{"name":"5 to 13 Years","y0":87207,"y1":221232},{"name":"14 to 17 Years","y0":221232,"y1":285243},{"name":"18 to 24 Years","y0":285243,"y1":410077},{"name":"25 to 44 Years","y0":410077,"y1":766314},{"name":"45 to 64 Years","y0":766314,"y1":1098131},{"name":"65 Years and Over","y0":1098131,"y1":1288198}],"total":1288198},{"State":"RI","Under 5 Years":"60934","5 to 13 Years":"111408","14 to 17 Years":"56198","18 to 24 Years":"114502","25 to 44 Years":"277779","45 to 64 Years":"282321","65 Years and Over":"147646","ages":[{"name":"Under 5 Years","y0":0,"y1":60934},{"name":"5 to 13 Years","y0":60934,"y1":172342},{"name":"14 to 17 Years","y0":172342,"y1":228540},{"name":"18 to 24 Years","y0":228540,"y1":343042},{"name":"25 to 44 Years","y0":343042,"y1":620821},{"name":"45 to 64 Years","y0":620821,"y1":903142},{"name":"65 Years and Over","y0":903142,"y1":1050788}],"total":1050788},{"State":"MT","Under 5 Years":"61114","5 to 13 Years":"106088","14 to 17 Years":"53156","18 to 24 Years":"95232","25 to 44 Years":"236297","45 to 64 Years":"278241","65 Years and Over":"137312","ages":[{"name":"Under 5 Years","y0":0,"y1":61114},{"name":"5 to 13 Years","y0":61114,"y1":167202},{"name":"14 to 17 Years","y0":167202,"y1":220358},{"name":"18 to 24 Years","y0":220358,"y1":315590},{"name":"25 to 44 Years","y0":315590,"y1":551887},{"name":"45 to 64 Years","y0":551887,"y1":830128},{"name":"65 Years and Over","y0":830128,"y1":967440}],"total":967440},{"State":"DE","Under 5 Years":"59319","5 to 13 Years":"99496","14 to 17 Years":"47414","18 to 24 Years":"84464","25 to 44 Years":"230183","45 to 64 Years":"230528","65 Years and Over":"121688","ages":[{"name":"Under 5 Years","y0":0,"y1":59319},{"name":"5 to 13 Years","y0":59319,"y1":158815},{"name":"14 to 17 Years","y0":158815,"y1":206229},{"name":"18 to 24 Years","y0":206229,"y1":290693},{"name":"25 to 44 Years","y0":290693,"y1":520876},{"name":"45 to 64 Years","y0":520876,"y1":751404},{"name":"65 Years and Over","y0":751404,"y1":873092}],"total":873092},{"State":"SD","Under 5 Years":"58566","5 to 13 Years":"94438","14 to 17 Years":"45305","18 to 24 Years":"82869","25 to 44 Years":"196738","45 to 64 Years":"210178","65 Years and Over":"116100","ages":[{"name":"Under 5 Years","y0":0,"y1":58566},{"name":"5 to 13 Years","y0":58566,"y1":153004},{"name":"14 to 17 Years","y0":153004,"y1":198309},{"name":"18 to 24 Years","y0":198309,"y1":281178},{"name":"25 to 44 Years","y0":281178,"y1":477916},{"name":"45 to 64 Years","y0":477916,"y1":688094},{"name":"65 Years and Over","y0":688094,"y1":804194}],"total":804194},{"State":"AK","Under 5 Years":"52083","5 to 13 Years":"85640","14 to 17 Years":"42153","18 to 24 Years":"74257","25 to 44 Years":"198724","45 to 64 Years":"183159","65 Years and Over":"50277","ages":[{"name":"Under 5 Years","y0":0,"y1":52083},{"name":"5 to 13 Years","y0":52083,"y1":137723},{"name":"14 to 17 Years","y0":137723,"y1":179876},{"name":"18 to 24 Years","y0":179876,"y1":254133},{"name":"25 to 44 Years","y0":254133,"y1":452857},{"name":"45 to 64 Years","y0":452857,"y1":636016},{"name":"65 Years and Over","y0":636016,"y1":686293}],"total":686293},{"State":"ND","Under 5 Years":"41896","5 to 13 Years":"67358","14 to 17 Years":"33794","18 to 24 Years":"82629","25 to 44 Years":"154913","45 to 64 Years":"166615","65 Years and Over":"94276","ages":[{"name":"Under 5 Years","y0":0,"y1":41896},{"name":"5 to 13 Years","y0":41896,"y1":109254},{"name":"14 to 17 Years","y0":109254,"y1":143048},{"name":"18 to 24 Years","y0":143048,"y1":225677},{"name":"25 to 44 Years","y0":225677,"y1":380590},{"name":"45 to 64 Years","y0":380590,"y1":547205},{"name":"65 Years and Over","y0":547205,"y1":641481}],"total":641481},{"State":"VT","Under 5 Years":"32635","5 to 13 Years":"62538","14 to 17 Years":"33757","18 to 24 Years":"61679","25 to 44 Years":"155419","45 to 64 Years":"188593","65 Years and Over":"86649","ages":[{"name":"Under 5 Years","y0":0,"y1":32635},{"name":"5 to 13 Years","y0":32635,"y1":95173},{"name":"14 to 17 Years","y0":95173,"y1":128930},{"name":"18 to 24 Years","y0":128930,"y1":190609},{"name":"25 to 44 Years","y0":190609,"y1":346028},{"name":"45 to 64 Years","y0":346028,"y1":534621},{"name":"65 Years and Over","y0":534621,"y1":621270}],"total":621270},{"State":"DC","Under 5 Years":"36352","5 to 13 Years":"50439","14 to 17 Years":"25225","18 to 24 Years":"75569","25 to 44 Years":"193557","45 to 64 Years":"140043","65 Years and Over":"70648","ages":[{"name":"Under 5 Years","y0":0,"y1":36352},{"name":"5 to 13 Years","y0":36352,"y1":86791},{"name":"14 to 17 Years","y0":86791,"y1":112016},{"name":"18 to 24 Years","y0":112016,"y1":187585},{"name":"25 to 44 Years","y0":187585,"y1":381142},{"name":"45 to 64 Years","y0":381142,"y1":521185},{"name":"65 Years and Over","y0":521185,"y1":591833}],"total":591833},{"State":"WY","Under 5 Years":"38253","5 to 13 Years":"60890","14 to 17 Years":"29314","18 to 24 Years":"53980","25 to 44 Years":"137338","45 to 64 Years":"147279","65 Years and Over":"65614","ages":[{"name":"Under 5 Years","y0":0,"y1":38253},{"name":"5 to 13 Years","y0":38253,"y1":99143},{"name":"14 to 17 Years","y0":99143,"y1":128457},{"name":"18 to 24 Years","y0":128457,"y1":182437},{"name":"25 to 44 Years","y0":182437,"y1":319775},{"name":"45 to 64 Years","y0":319775,"y1":467054},{"name":"65 Years and Over","y0":467054,"y1":532668}],"total":532668}]')
    for d in $scope.longData
      delete d.ages

    $scope.categories = cats = ['Under 5 Years','5 to 13 Years', '14 to 17 Years','18 to 24 Years',"25 to 44 Years",'45 to 64 Years','65 Years and Over']

    $scope.longData2 = angular.copy($scope.longData)
    $scope.longData2 = $scope.longData2.map((d) ->
      d.total = cats.reduce(
        (prev,next) -> +prev + +d[next]
      , 0
      )
      return d
    )
    $scope.longData2.sort((a,b) -> b.total-a.total)
    $log.info $scope.longData2

    $scope.shortData = $scope.longData.slice(0,5)

    $interval(() =>
      idx = Math.floor(Math.random() * ($scope.longData2.length - 1))
      idx2 = Math.floor(Math.random() * ($scope.longData2.length - 1))
      idx3 = Math.floor(Math.random() * cats.length)
      nv = Math.round(Math.random() * 20000000)

      $scope.longData2[idx][cats[idx3]] = nv

      $scope.longData2.splice idx2,1
      $scope.longData2 = $scope.longData2.map((d) ->
        d.total = cats.reduce(
          (prev,next) -> +prev + +d[next]
        , 0
        )
        return d
      )
      $scope.longData2.sort((a,b) -> b.total-a.total)
    , d3Animation.duration + 100 , 20)

    $interval(() =>
      idx = Math.floor(Math.random() * ($scope.shortData.length - 1))
      idx2 = Math.floor(Math.random() * ($scope.shortData.length - 1))
      idx3 = Math.floor(Math.random() * cats.length)
      nv = Math.round(Math.random() * 10000000)

      $scope.shortData[idx][cats[idx3]] = nv

    , d3Animation.duration + 100 , 5)

    $scope.temperatureData = JSON.parse('[{"date":"20111001","New York":"63.4","San Francisco":"62.7","Austin":"72.2"},{"date":"20111002","New York":"58.0","San Francisco":"59.9","Austin":"67.7"},{"date":"20111003","New York":"53.3","San Francisco":"59.1","Austin":"69.4"},{"date":"20111004","New York":"55.7","San Francisco":"58.8","Austin":"68.0"},{"date":"20111005","New York":"64.2","San Francisco":"58.7","Austin":"72.4"},{"date":"20111006","New York":"58.8","San Francisco":"57.0","Austin":"77.0"},{"date":"20111007","New York":"57.9","San Francisco":"56.7","Austin":"82.3"},{"date":"20111008","New York":"61.8","San Francisco":"56.8","Austin":"78.9"},{"date":"20111009","New York":"69.3","San Francisco":"56.7","Austin":"68.8"},{"date":"20111010","New York":"71.2","San Francisco":"60.1","Austin":"68.7"},{"date":"20111011","New York":"68.7","San Francisco":"61.1","Austin":"70.3"},{"date":"20111012","New York":"61.8","San Francisco":"61.5","Austin":"75.3"},{"date":"20111013","New York":"63.0","San Francisco":"64.3","Austin":"76.6"},{"date":"20111014","New York":"66.9","San Francisco":"67.1","Austin":"66.6"},{"date":"20111015","New York":"61.7","San Francisco":"64.6","Austin":"68.0"},{"date":"20111016","New York":"61.8","San Francisco":"61.6","Austin":"70.6"},{"date":"20111017","New York":"62.8","San Francisco":"61.1","Austin":"71.1"},{"date":"20111018","New York":"60.8","San Francisco":"59.2","Austin":"70.0"},{"date":"20111019","New York":"62.1","San Francisco":"58.9","Austin":"61.6"},{"date":"20111020","New York":"65.1","San Francisco":"57.2","Austin":"57.4"},{"date":"20111021","New York":"55.6","San Francisco":"56.4","Austin":"64.3"},{"date":"20111022","New York":"54.4","San Francisco":"60.7","Austin":"72.4"},{"date":"20111023","New York":"54.4","San Francisco":"65.1","Austin":"72.4"},{"date":"20111024","New York":"54.8","San Francisco":"60.9","Austin":"72.5"},{"date":"20111025","New York":"57.9","San Francisco":"56.1","Austin":"72.7"},{"date":"20111026","New York":"54.6","San Francisco":"54.6","Austin":"73.4"},{"date":"20111027","New York":"54.4","San Francisco":"56.1","Austin":"70.7"},{"date":"20111028","New York":"42.5","San Francisco":"58.1","Austin":"56.8"},{"date":"20111029","New York":"40.9","San Francisco":"57.5","Austin":"51.0"},{"date":"20111030","New York":"38.6","San Francisco":"57.7","Austin":"54.9"},{"date":"20111031","New York":"44.2","San Francisco":"55.1","Austin":"58.8"},{"date":"20111101","New York":"49.6","San Francisco":"57.9","Austin":"62.6"},{"date":"20111102","New York":"47.2","San Francisco":"64.6","Austin":"71.0"},{"date":"20111103","New York":"50.1","San Francisco":"56.2","Austin":"58.4"},{"date":"20111104","New York":"50.1","San Francisco":"50.5","Austin":"45.1"},{"date":"20111105","New York":"43.5","San Francisco":"51.3","Austin":"52.2"},{"date":"20111106","New York":"43.8","San Francisco":"52.6","Austin":"73.0"},{"date":"20111107","New York":"48.9","San Francisco":"51.4","Austin":"75.4"},{"date":"20111108","New York":"55.5","San Francisco":"50.6","Austin":"72.1"},{"date":"20111109","New York":"53.7","San Francisco":"54.6","Austin":"56.6"},{"date":"20111110","New York":"57.7","San Francisco":"55.6","Austin":"55.4"},{"date":"20111111","New York":"48.5","San Francisco":"53.9","Austin":"46.7"},{"date":"20111112","New York":"46.8","San Francisco":"54.0","Austin":"62.0"},{"date":"20111113","New York":"51.1","San Francisco":"53.8","Austin":"71.6"},{"date":"20111114","New York":"56.8","San Francisco":"53.5","Austin":"75.5"},{"date":"20111115","New York":"59.7","San Francisco":"53.4","Austin":"72.1"},{"date":"20111116","New York":"56.5","San Francisco":"52.2","Austin":"65.7"},{"date":"20111117","New York":"49.6","San Francisco":"52.7","Austin":"56.8"},{"date":"20111118","New York":"41.5","San Francisco":"53.1","Austin":"49.9"},{"date":"20111119","New York":"44.3","San Francisco":"49.0","Austin":"71.7"},{"date":"20111120","New York":"54.0","San Francisco":"50.4","Austin":"77.7"},{"date":"20111121","New York":"54.1","San Francisco":"51.1","Austin":"76.4"},{"date":"20111122","New York":"49.4","San Francisco":"52.3","Austin":"68.8"},{"date":"20111123","New York":"50.0","San Francisco":"54.6","Austin":"57.0"},{"date":"20111124","New York":"44.0","San Francisco":"55.1","Austin":"55.5"},{"date":"20111125","New York":"50.3","San Francisco":"51.5","Austin":"61.6"},{"date":"20111126","New York":"52.1","San Francisco":"53.6","Austin":"64.1"},{"date":"20111127","New York":"49.6","San Francisco":"52.3","Austin":"51.1"},{"date":"20111128","New York":"57.2","San Francisco":"51.0","Austin":"43.0"},{"date":"20111129","New York":"59.1","San Francisco":"49.5","Austin":"46.4"},{"date":"20111130","New York":"50.6","San Francisco":"49.8","Austin":"48.0"},{"date":"20111201","New York":"44.3","San Francisco":"60.4","Austin":"48.1"},{"date":"20111202","New York":"43.9","San Francisco":"62.2","Austin":"60.6"},{"date":"20111203","New York":"42.1","San Francisco":"58.3","Austin":"62.6"},{"date":"20111204","New York":"43.9","San Francisco":"52.7","Austin":"57.1"},{"date":"20111205","New York":"50.2","San Francisco":"51.5","Austin":"44.2"},{"date":"20111206","New York":"54.2","San Francisco":"49.9","Austin":"37.4"},{"date":"20111207","New York":"54.6","San Francisco":"48.6","Austin":"35.0"},{"date":"20111208","New York":"43.4","San Francisco":"46.4","Austin":"37.0"},{"date":"20111209","New York":"42.2","San Francisco":"49.8","Austin":"45.4"},{"date":"20111210","New York":"45.0","San Francisco":"52.1","Austin":"50.7"},{"date":"20111211","New York":"33.8","San Francisco":"48.8","Austin":"48.6"},{"date":"20111212","New York":"36.8","San Francisco":"47.4","Austin":"52.2"},{"date":"20111213","New York":"38.6","San Francisco":"47.2","Austin":"60.8"},{"date":"20111214","New York":"41.9","San Francisco":"46.1","Austin":"70.0"},{"date":"20111215","New York":"49.6","San Francisco":"48.8","Austin":"64.2"},{"date":"20111216","New York":"50.2","San Francisco":"47.9","Austin":"50.9"},{"date":"20111217","New York":"40.6","San Francisco":"49.8","Austin":"51.6"},{"date":"20111218","New York":"29.1","San Francisco":"49.1","Austin":"55.2"},{"date":"20111219","New York":"33.7","San Francisco":"48.3","Austin":"62.1"},{"date":"20111220","New York":"45.8","San Francisco":"49.3","Austin":"56.3"},{"date":"20111221","New York":"47.4","San Francisco":"48.4","Austin":"47.2"},{"date":"20111222","New York":"54.4","San Francisco":"53.3","Austin":"52.3"},{"date":"20111223","New York":"47.8","San Francisco":"47.5","Austin":"45.2"},{"date":"20111224","New York":"34.9","San Francisco":"47.9","Austin":"43.6"},{"date":"20111225","New York":"35.9","San Francisco":"48.9","Austin":"42.9"},{"date":"20111226","New York":"43.6","San Francisco":"45.9","Austin":"48.2"},{"date":"20111227","New York":"42.9","San Francisco":"47.2","Austin":"45.4"},{"date":"20111228","New York":"46.2","San Francisco":"48.9","Austin":"44.2"},{"date":"20111229","New York":"30.8","San Francisco":"50.9","Austin":"50.4"},{"date":"20111230","New York":"40.8","San Francisco":"52.9","Austin":"52.4"},{"date":"20111231","New York":"49.8","San Francisco":"50.1","Austin":"53.5"},{"date":"20120101","New York":"46.3","San Francisco":"53.9","Austin":"55.9"},{"date":"20120102","New York":"43.2","San Francisco":"53.1","Austin":"48.2"},{"date":"20120103","New York":"30.3","San Francisco":"49.7","Austin":"41.0"},{"date":"20120104","New York":"19.2","San Francisco":"52.7","Austin":"48.9"},{"date":"20120105","New York":"32.1","San Francisco":"52.6","Austin":"54.8"},{"date":"20120106","New York":"41.2","San Francisco":"49.0","Austin":"61.2"},{"date":"20120107","New York":"47.0","San Francisco":"51.0","Austin":"59.7"},{"date":"20120108","New York":"46.0","San Francisco":"56.8","Austin":"52.5"},{"date":"20120109","New York":"34.7","San Francisco":"52.3","Austin":"54.0"},{"date":"20120110","New York":"39.4","San Francisco":"51.6","Austin":"47.7"},{"date":"20120111","New York":"40.4","San Francisco":"49.8","Austin":"49.2"},{"date":"20120112","New York":"45.4","San Francisco":"51.9","Austin":"48.4"},{"date":"20120113","New York":"40.7","San Francisco":"53.7","Austin":"40.2"},{"date":"20120114","New York":"30.4","San Francisco":"52.9","Austin":"43.9"},{"date":"20120115","New York":"23.9","San Francisco":"49.7","Austin":"45.2"},{"date":"20120116","New York":"22.6","San Francisco":"45.3","Austin":"65.0"},{"date":"20120117","New York":"39.8","San Francisco":"43.6","Austin":"68.2"},{"date":"20120118","New York":"43.2","San Francisco":"45.0","Austin":"47.5"},{"date":"20120119","New York":"26.3","San Francisco":"47.3","Austin":"57.1"},{"date":"20120120","New York":"32.8","San Francisco":"51.4","Austin":"61.9"},{"date":"20120121","New York":"27.4","San Francisco":"53.7","Austin":"54.6"},{"date":"20120122","New York":"25.0","San Francisco":"48.3","Austin":"56.7"},{"date":"20120123","New York":"39.4","San Francisco":"52.9","Austin":"54.4"},{"date":"20120124","New York":"48.7","San Francisco":"49.1","Austin":"52.7"},{"date":"20120125","New York":"43.0","San Francisco":"52.1","Austin":"61.8"},{"date":"20120126","New York":"37.1","San Francisco":"53.6","Austin":"55.0"},{"date":"20120127","New York":"48.2","San Francisco":"50.4","Austin":"50.7"},{"date":"20120128","New York":"43.7","San Francisco":"50.3","Austin":"52.9"},{"date":"20120129","New York":"40.1","San Francisco":"53.8","Austin":"44.4"},{"date":"20120130","New York":"38.0","San Francisco":"51.9","Austin":"49.1"},{"date":"20120131","New York":"43.5","San Francisco":"50.0","Austin":"62.8"},{"date":"20120201","New York":"50.4","San Francisco":"50.0","Austin":"64.6"},{"date":"20120202","New York":"45.8","San Francisco":"51.3","Austin":"61.1"},{"date":"20120203","New York":"37.5","San Francisco":"51.5","Austin":"70.0"},{"date":"20120204","New York":"40.8","San Francisco":"52.0","Austin":"61.3"},{"date":"20120205","New York":"36.5","San Francisco":"53.8","Austin":"48.2"},{"date":"20120206","New York":"39.1","San Francisco":"54.6","Austin":"44.2"},{"date":"20120207","New York":"43.2","San Francisco":"54.3","Austin":"51.3"},{"date":"20120208","New York":"36.5","San Francisco":"51.9","Austin":"49.2"},{"date":"20120209","New York":"36.5","San Francisco":"53.8","Austin":"45.7"},{"date":"20120210","New York":"38.3","San Francisco":"53.9","Austin":"54.1"},{"date":"20120211","New York":"36.9","San Francisco":"52.3","Austin":"44.9"},{"date":"20120212","New York":"29.7","San Francisco":"50.1","Austin":"36.5"},{"date":"20120213","New York":"33.1","San Francisco":"49.5","Austin":"44.8"},{"date":"20120214","New York":"39.6","San Francisco":"48.6","Austin":"52.3"},{"date":"20120215","New York":"42.3","San Francisco":"49.9","Austin":"68.0"},{"date":"20120216","New York":"39.7","San Francisco":"52.4","Austin":"54.6"},{"date":"20120217","New York":"46.0","San Francisco":"49.9","Austin":"53.8"},{"date":"20120218","New York":"41.2","San Francisco":"51.6","Austin":"56.2"},{"date":"20120219","New York":"39.8","San Francisco":"47.8","Austin":"50.8"},{"date":"20120220","New York":"38.1","San Francisco":"48.7","Austin":"53.0"},{"date":"20120221","New York":"37.1","San Francisco":"49.7","Austin":"61.0"},{"date":"20120222","New York":"45.5","San Francisco":"53.4","Austin":"68.8"},{"date":"20120223","New York":"50.6","San Francisco":"54.1","Austin":"69.4"},{"date":"20120224","New York":"42.7","San Francisco":"55.9","Austin":"59.3"},{"date":"20120225","New York":"42.6","San Francisco":"51.7","Austin":"47.2"},{"date":"20120226","New York":"36.9","San Francisco":"47.7","Austin":"47.7"},{"date":"20120227","New York":"40.9","San Francisco":"45.4","Austin":"61.9"},{"date":"20120228","New York":"45.9","San Francisco":"47.0","Austin":"67.2"},{"date":"20120229","New York":"40.7","San Francisco":"49.8","Austin":"70.1"},{"date":"20120301","New York":"41.3","San Francisco":"48.9","Austin":"62.1"},{"date":"20120302","New York":"36.8","San Francisco":"48.1","Austin":"72.7"},{"date":"20120303","New York":"47.6","San Francisco":"50.7","Austin":"59.0"},{"date":"20120304","New York":"44.2","San Francisco":"55.0","Austin":"51.8"},{"date":"20120305","New York":"38.5","San Francisco":"48.8","Austin":"55.0"},{"date":"20120306","New York":"32.9","San Francisco":"48.4","Austin":"61.8"},{"date":"20120307","New York":"43.3","San Francisco":"49.9","Austin":"67.1"},{"date":"20120308","New York":"51.2","San Francisco":"49.2","Austin":"72.0"},{"date":"20120309","New York":"47.8","San Francisco":"51.7","Austin":"46.4"},{"date":"20120310","New York":"37.2","San Francisco":"49.3","Austin":"46.7"},{"date":"20120311","New York":"42.9","San Francisco":"50.0","Austin":"56.9"},{"date":"20120312","New York":"48.8","San Francisco":"48.6","Austin":"61.9"},{"date":"20120313","New York":"52.6","San Francisco":"53.9","Austin":"68.8"},{"date":"20120314","New York":"60.5","San Francisco":"55.2","Austin":"71.9"},{"date":"20120315","New York":"47.2","San Francisco":"55.9","Austin":"72.0"},{"date":"20120316","New York":"44.7","San Francisco":"54.6","Austin":"72.5"},{"date":"20120317","New York":"48.2","San Francisco":"48.2","Austin":"71.7"},{"date":"20120318","New York":"48.2","San Francisco":"47.1","Austin":"71.1"},{"date":"20120319","New York":"53.1","San Francisco":"45.8","Austin":"73.0"},{"date":"20120320","New York":"57.8","San Francisco":"49.7","Austin":"63.8"},{"date":"20120321","New York":"57.5","San Francisco":"51.4","Austin":"60.0"},{"date":"20120322","New York":"57.3","San Francisco":"51.4","Austin":"62.3"},{"date":"20120323","New York":"61.7","San Francisco":"48.4","Austin":"61.1"},{"date":"20120324","New York":"55.8","San Francisco":"49.0","Austin":"62.0"},{"date":"20120325","New York":"48.4","San Francisco":"46.4","Austin":"64.6"},{"date":"20120326","New York":"49.8","San Francisco":"49.7","Austin":"66.0"},{"date":"20120327","New York":"39.6","San Francisco":"54.1","Austin":"65.8"},{"date":"20120328","New York":"49.7","San Francisco":"54.6","Austin":"69.2"},{"date":"20120329","New York":"56.8","San Francisco":"52.3","Austin":"69.5"},{"date":"20120330","New York":"46.5","San Francisco":"54.5","Austin":"73.5"},{"date":"20120331","New York":"42.2","San Francisco":"56.2","Austin":"73.9"},{"date":"20120401","New York":"45.3","San Francisco":"51.1","Austin":"75.3"},{"date":"20120402","New York":"48.1","San Francisco":"50.5","Austin":"75.4"},{"date":"20120403","New York":"51.2","San Francisco":"52.2","Austin":"77.3"},{"date":"20120404","New York":"61.0","San Francisco":"50.6","Austin":"67.0"},{"date":"20120405","New York":"50.7","San Francisco":"47.9","Austin":"71.1"},{"date":"20120406","New York":"48.0","San Francisco":"47.4","Austin":"70.4"},{"date":"20120407","New York":"51.1","San Francisco":"49.4","Austin":"73.6"},{"date":"20120408","New York":"55.7","San Francisco":"50.0","Austin":"71.1"},{"date":"20120409","New York":"58.3","San Francisco":"51.3","Austin":"70.0"},{"date":"20120410","New York":"55.0","San Francisco":"53.8","Austin":"69.0"},{"date":"20120411","New York":"49.0","San Francisco":"52.9","Austin":"69.2"},{"date":"20120412","New York":"51.7","San Francisco":"53.9","Austin":"74.5"},{"date":"20120413","New York":"53.1","San Francisco":"50.2","Austin":"73.4"},{"date":"20120414","New York":"55.2","San Francisco":"50.9","Austin":"76.0"},{"date":"20120415","New York":"62.3","San Francisco":"51.5","Austin":"74.5"},{"date":"20120416","New York":"62.9","San Francisco":"51.9","Austin":"63.6"},{"date":"20120417","New York":"69.3","San Francisco":"53.2","Austin":"67.3"},{"date":"20120418","New York":"59.0","San Francisco":"53.0","Austin":"65.1"},{"date":"20120419","New York":"54.1","San Francisco":"55.1","Austin":"67.9"},{"date":"20120420","New York":"56.5","San Francisco":"55.8","Austin":"68.9"},{"date":"20120421","New York":"58.2","San Francisco":"58.0","Austin":"65.1"},{"date":"20120422","New York":"52.4","San Francisco":"52.8","Austin":"65.4"},{"date":"20120423","New York":"51.6","San Francisco":"55.1","Austin":"70.1"},{"date":"20120424","New York":"49.3","San Francisco":"57.9","Austin":"67.0"},{"date":"20120425","New York":"52.5","San Francisco":"57.5","Austin":"75.4"},{"date":"20120426","New York":"50.5","San Francisco":"55.3","Austin":"77.5"},{"date":"20120427","New York":"51.9","San Francisco":"53.5","Austin":"77.0"},{"date":"20120428","New York":"47.4","San Francisco":"54.7","Austin":"77.7"},{"date":"20120429","New York":"54.1","San Francisco":"54.0","Austin":"77.7"},{"date":"20120430","New York":"51.9","San Francisco":"53.4","Austin":"77.7"},{"date":"20120501","New York":"57.4","San Francisco":"52.7","Austin":"77.0"},{"date":"20120502","New York":"53.7","San Francisco":"50.7","Austin":"77.9"},{"date":"20120503","New York":"53.1","San Francisco":"52.6","Austin":"79.1"},{"date":"20120504","New York":"57.2","San Francisco":"53.4","Austin":"80.1"},{"date":"20120505","New York":"57.0","San Francisco":"53.1","Austin":"82.1"},{"date":"20120506","New York":"56.6","San Francisco":"56.5","Austin":"79.0"},{"date":"20120507","New York":"54.6","San Francisco":"55.3","Austin":"79.8"},{"date":"20120508","New York":"57.9","San Francisco":"52.0","Austin":"70.0"},{"date":"20120509","New York":"59.2","San Francisco":"52.4","Austin":"69.8"},{"date":"20120510","New York":"61.1","San Francisco":"53.4","Austin":"71.3"},{"date":"20120511","New York":"59.7","San Francisco":"53.1","Austin":"69.4"},{"date":"20120512","New York":"64.1","San Francisco":"49.9","Austin":"72.0"},{"date":"20120513","New York":"65.3","San Francisco":"52.0","Austin":"72.4"},{"date":"20120514","New York":"64.2","San Francisco":"56.0","Austin":"72.5"},{"date":"20120515","New York":"62.0","San Francisco":"53.0","Austin":"67.6"},{"date":"20120516","New York":"63.8","San Francisco":"51.0","Austin":"69.0"},{"date":"20120517","New York":"64.5","San Francisco":"51.4","Austin":"72.7"},{"date":"20120518","New York":"61.0","San Francisco":"52.2","Austin":"73.7"},{"date":"20120519","New York":"62.6","San Francisco":"52.4","Austin":"77.5"},{"date":"20120520","New York":"66.2","San Francisco":"54.5","Austin":"75.8"},{"date":"20120521","New York":"62.7","San Francisco":"52.8","Austin":"76.9"},{"date":"20120522","New York":"63.7","San Francisco":"53.9","Austin":"78.8"},{"date":"20120523","New York":"66.4","San Francisco":"56.5","Austin":"77.7"},{"date":"20120524","New York":"64.5","San Francisco":"54.7","Austin":"80.6"},{"date":"20120525","New York":"65.4","San Francisco":"52.5","Austin":"81.4"},{"date":"20120526","New York":"69.4","San Francisco":"52.1","Austin":"82.3"},{"date":"20120527","New York":"71.9","San Francisco":"52.2","Austin":"80.3"},{"date":"20120528","New York":"74.4","San Francisco":"52.9","Austin":"80.3"},{"date":"20120529","New York":"75.9","San Francisco":"52.1","Austin":"82.2"},{"date":"20120530","New York":"72.9","San Francisco":"52.1","Austin":"81.9"},{"date":"20120531","New York":"72.5","San Francisco":"53.3","Austin":"82.4"},{"date":"20120601","New York":"67.2","San Francisco":"54.8","Austin":"77.9"},{"date":"20120602","New York":"68.3","San Francisco":"54.0","Austin":"81.1"},{"date":"20120603","New York":"67.7","San Francisco":"52.3","Austin":"82.2"},{"date":"20120604","New York":"61.9","San Francisco":"55.3","Austin":"81.2"},{"date":"20120605","New York":"58.3","San Francisco":"53.5","Austin":"83.0"},{"date":"20120606","New York":"61.7","San Francisco":"54.1","Austin":"83.2"},{"date":"20120607","New York":"66.7","San Francisco":"53.9","Austin":"82.1"},{"date":"20120608","New York":"68.7","San Francisco":"54.4","Austin":"77.5"},{"date":"20120609","New York":"72.2","San Francisco":"55.0","Austin":"77.9"},{"date":"20120610","New York":"72.6","San Francisco":"60.0","Austin":"82.9"},{"date":"20120611","New York":"69.2","San Francisco":"57.2","Austin":"86.8"},{"date":"20120612","New York":"66.9","San Francisco":"55.1","Austin":"85.3"},{"date":"20120613","New York":"66.7","San Francisco":"53.3","Austin":"76.9"},{"date":"20120614","New York":"67.7","San Francisco":"53.4","Austin":"84.5"},{"date":"20120615","New York":"68.5","San Francisco":"54.6","Austin":"84.4"},{"date":"20120616","New York":"67.5","San Francisco":"57.0","Austin":"83.8"},{"date":"20120617","New York":"64.2","San Francisco":"55.6","Austin":"82.5"},{"date":"20120618","New York":"61.7","San Francisco":"52.5","Austin":"82.9"},{"date":"20120619","New York":"66.4","San Francisco":"53.9","Austin":"82.5"},{"date":"20120620","New York":"77.9","San Francisco":"55.3","Austin":"81.3"},{"date":"20120621","New York":"88.3","San Francisco":"53.3","Austin":"80.8"},{"date":"20120622","New York":"82.2","San Francisco":"54.1","Austin":"81.7"},{"date":"20120623","New York":"77.0","San Francisco":"55.2","Austin":"83.9"},{"date":"20120624","New York":"75.4","San Francisco":"55.8","Austin":"85.5"},{"date":"20120625","New York":"70.9","San Francisco":"56.8","Austin":"87.2"},{"date":"20120626","New York":"65.9","San Francisco":"57.5","Austin":"88.0"},{"date":"20120627","New York":"73.5","San Francisco":"57.7","Austin":"89.6"},{"date":"20120628","New York":"77.4","San Francisco":"56.6","Austin":"86.7"},{"date":"20120629","New York":"79.6","San Francisco":"56.4","Austin":"85.3"},{"date":"20120630","New York":"84.2","San Francisco":"58.4","Austin":"81.7"},{"date":"20120701","New York":"81.8","San Francisco":"58.8","Austin":"78.5"},{"date":"20120702","New York":"82.5","San Francisco":"56.4","Austin":"83.1"},{"date":"20120703","New York":"80.2","San Francisco":"56.5","Austin":"83.1"},{"date":"20120704","New York":"77.8","San Francisco":"55.8","Austin":"84.5"},{"date":"20120705","New York":"86.1","San Francisco":"54.8","Austin":"84.6"},{"date":"20120706","New York":"79.9","San Francisco":"54.9","Austin":"84.2"},{"date":"20120707","New York":"83.5","San Francisco":"54.7","Austin":"86.7"},{"date":"20120708","New York":"81.5","San Francisco":"52.8","Austin":"84.3"},{"date":"20120709","New York":"77.8","San Francisco":"53.7","Austin":"83.7"},{"date":"20120710","New York":"76.1","San Francisco":"53.1","Austin":"77.1"},{"date":"20120711","New York":"76.3","San Francisco":"52.7","Austin":"77.4"},{"date":"20120712","New York":"75.8","San Francisco":"52.0","Austin":"80.6"},{"date":"20120713","New York":"77.2","San Francisco":"53.4","Austin":"81.4"},{"date":"20120714","New York":"79.3","San Francisco":"54.0","Austin":"80.2"},{"date":"20120715","New York":"78.9","San Francisco":"54.0","Austin":"81.8"},{"date":"20120716","New York":"79.6","San Francisco":"54.5","Austin":"77.3"},{"date":"20120717","New York":"83.3","San Francisco":"56.7","Austin":"80.8"},{"date":"20120718","New York":"84.3","San Francisco":"57.5","Austin":"81.6"},{"date":"20120719","New York":"75.1","San Francisco":"57.1","Austin":"80.9"},{"date":"20120720","New York":"68.4","San Francisco":"58.1","Austin":"83.9"},{"date":"20120721","New York":"68.4","San Francisco":"57.6","Austin":"85.6"},{"date":"20120722","New York":"72.2","San Francisco":"56.0","Austin":"83.6"},{"date":"20120723","New York":"75.6","San Francisco":"56.6","Austin":"84.0"},{"date":"20120724","New York":"82.6","San Francisco":"57.8","Austin":"83.0"},{"date":"20120725","New York":"78.4","San Francisco":"57.5","Austin":"84.8"},{"date":"20120726","New York":"77.0","San Francisco":"56.4","Austin":"84.4"},{"date":"20120727","New York":"79.4","San Francisco":"55.3","Austin":"84.3"},{"date":"20120728","New York":"77.4","San Francisco":"55.0","Austin":"83.9"},{"date":"20120729","New York":"72.5","San Francisco":"55.6","Austin":"85.0"},{"date":"20120730","New York":"72.9","San Francisco":"55.6","Austin":"84.9"},{"date":"20120731","New York":"73.6","San Francisco":"55.9","Austin":"86.3"},{"date":"20120801","New York":"75.0","San Francisco":"55.4","Austin":"86.5"},{"date":"20120802","New York":"77.7","San Francisco":"54.4","Austin":"85.8"},{"date":"20120803","New York":"79.7","San Francisco":"53.7","Austin":"85.3"},{"date":"20120804","New York":"79.6","San Francisco":"54.1","Austin":"86.0"},{"date":"20120805","New York":"81.5","San Francisco":"57.8","Austin":"84.2"},{"date":"20120806","New York":"80.0","San Francisco":"58.2","Austin":"81.9"},{"date":"20120807","New York":"75.7","San Francisco":"58.0","Austin":"86.5"},{"date":"20120808","New York":"77.8","San Francisco":"57.0","Austin":"86.1"},{"date":"20120809","New York":"78.6","San Francisco":"55.0","Austin":"86.8"},{"date":"20120810","New York":"77.8","San Francisco":"54.8","Austin":"88.0"},{"date":"20120811","New York":"78.5","San Francisco":"53.0","Austin":"85.1"},{"date":"20120812","New York":"78.8","San Francisco":"52.5","Austin":"87.4"},{"date":"20120813","New York":"78.6","San Francisco":"53.3","Austin":"88.0"},{"date":"20120814","New York":"76.8","San Francisco":"53.9","Austin":"88.0"},{"date":"20120815","New York":"76.7","San Francisco":"56.2","Austin":"87.2"},{"date":"20120816","New York":"75.9","San Francisco":"57.1","Austin":"86.1"},{"date":"20120817","New York":"77.6","San Francisco":"55.3","Austin":"86.8"},{"date":"20120818","New York":"72.6","San Francisco":"56.2","Austin":"84.9"},{"date":"20120819","New York":"70.4","San Francisco":"54.3","Austin":"76.8"},{"date":"20120820","New York":"71.8","San Francisco":"53.1","Austin":"80.6"},{"date":"20120821","New York":"73.6","San Francisco":"53.4","Austin":"80.0"},{"date":"20120822","New York":"74.7","San Francisco":"54.5","Austin":"78.2"},{"date":"20120823","New York":"74.6","San Francisco":"55.7","Austin":"79.1"},{"date":"20120824","New York":"76.0","San Francisco":"54.8","Austin":"81.9"},{"date":"20120825","New York":"76.2","San Francisco":"53.8","Austin":"84.7"},{"date":"20120826","New York":"73.4","San Francisco":"56.5","Austin":"83.5"},{"date":"20120827","New York":"74.6","San Francisco":"58.3","Austin":"82.1"},{"date":"20120828","New York":"79.4","San Francisco":"58.7","Austin":"84.0"},{"date":"20120829","New York":"74.7","San Francisco":"57.5","Austin":"85.7"},{"date":"20120830","New York":"73.5","San Francisco":"55.9","Austin":"87.2"},{"date":"20120831","New York":"77.9","San Francisco":"55.4","Austin":"82.9"},{"date":"20120901","New York":"80.7","San Francisco":"55.7","Austin":"84.8"},{"date":"20120902","New York":"75.1","San Francisco":"53.1","Austin":"83.9"},{"date":"20120903","New York":"73.5","San Francisco":"53.5","Austin":"85.5"},{"date":"20120904","New York":"73.5","San Francisco":"52.5","Austin":"86.4"},{"date":"20120905","New York":"77.7","San Francisco":"54.5","Austin":"85.8"},{"date":"20120906","New York":"74.2","San Francisco":"56.3","Austin":"85.4"},{"date":"20120907","New York":"76.0","San Francisco":"56.4","Austin":"85.3"},{"date":"20120908","New York":"77.1","San Francisco":"56.5","Austin":"81.9"},{"date":"20120909","New York":"69.7","San Francisco":"56.4","Austin":"74.8"},{"date":"20120910","New York":"67.8","San Francisco":"55.4","Austin":"71.6"},{"date":"20120911","New York":"64.0","San Francisco":"56.2","Austin":"75.9"},{"date":"20120912","New York":"68.1","San Francisco":"55.7","Austin":"82.1"},{"date":"20120913","New York":"69.3","San Francisco":"54.3","Austin":"80.5"},{"date":"20120914","New York":"70.0","San Francisco":"55.2","Austin":"70.0"},{"date":"20120915","New York":"69.3","San Francisco":"54.3","Austin":"71.2"},{"date":"20120916","New York":"66.3","San Francisco":"52.9","Austin":"70.3"},{"date":"20120917","New York":"67.0","San Francisco":"54.8","Austin":"72.1"},{"date":"20120918","New York":"72.8","San Francisco":"54.8","Austin":"73.7"},{"date":"20120919","New York":"67.2","San Francisco":"56.8","Austin":"72.7"},{"date":"20120920","New York":"62.1","San Francisco":"55.4","Austin":"71.7"},{"date":"20120921","New York":"64.0","San Francisco":"55.8","Austin":"72.9"},{"date":"20120922","New York":"65.5","San Francisco":"55.9","Austin":"73.1"},{"date":"20120923","New York":"65.7","San Francisco":"52.8","Austin":"75.6"},{"date":"20120924","New York":"60.4","San Francisco":"54.5","Austin":"78.3"},{"date":"20120925","New York":"63.2","San Francisco":"53.3","Austin":"78.3"},{"date":"20120926","New York":"68.5","San Francisco":"53.6","Austin":"79.6"},{"date":"20120927","New York":"69.2","San Francisco":"52.1","Austin":"76.4"},{"date":"20120928","New York":"68.7","San Francisco":"52.6","Austin":"77.2"},{"date":"20120929","New York":"62.5","San Francisco":"53.9","Austin":"75.2"},{"date":"20120930","New York":"62.3","San Francisco":"55.1","Austin":"71.9"}]')
    ###
    $interval(()=>
      cities = ['New York','San Francisco','Austin']

      idx = Math.floor(Math.random() * ($scope.temperatureData.length - 1))
      cIdx = Math.floor(Math.random() * cities.length)
      temp = Math.round((Math.random() - 0.5) * 10 )
      $scope.temperatureData[idx][cities[cIdx]] = +$scope.temperatureData[idx][cities[cIdx]] + temp
    , 100, 5)
    ###

    shapes = ['circle', 'cross', 'triangle-up', 'triangle-down', 'diamond', 'square']
    random = d3.random.normal()
    randomData= (groups, points) ->
      data = []
      for j in [0..points - 1]
        data.push({
            x: random()
          , y: random()
          , group: Math.floor(Math.random() * 10)
          , size: Math.random()   #Configure the size of each scatter point
          , shape: shapes[Math.floor(Math.random() * shapes.length - 1)]   #Configure the shape of each scatter point.
        })
      return data

    $scope.range = [20,400]

    $scope.scatterData = randomData(5,50)

    $interval(()=>
      j = Math.floor(Math.random() * $scope.scatterData.length)

      $scope.scatterData[j].x = random()
      $scope.scatterData[j].y = random()
      $scope.scatterData[j].size = Math.random()
      #$scope.scatterData[j].shape = shapes[Math.floor(Math.random() * shapes.length)]
    , 500, 50)

    $scope.simpleData = {value:19}
    $scope.limit = [20,50,70]

    $scope.gaugeValChange = () ->
      $scope.simpleData = {value:$scope.gaugeVal}